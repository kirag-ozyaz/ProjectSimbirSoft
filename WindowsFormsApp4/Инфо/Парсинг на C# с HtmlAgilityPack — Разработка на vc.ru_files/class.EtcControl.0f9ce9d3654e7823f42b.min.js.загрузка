(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{1383:function(t,e,s){"use strict";s(980)},1384:function(t,e,s){(e=s(435)(!1)).push([t.i,".v-etc-controls-container .popover {\n  position: absolute;\n  top: var(--top, 0);\n  left: var(--left, 0);\n  z-index: 17;\n}\n.v-etc-controls-container .popover--fixed {\n  z-index: 21;\n}\n",""]),t.exports=e},1573:function(t,e,s){"use strict";s.r(e),s.d(e,"Link",(function(){return g})),s.d(e,"Toggle",(function(){return _})),s.d(e,"Button",(function(){return C})),s.d(e,"AjaxToggle",(function(){return y})),s.d(e,"AjaxButton",(function(){return k})),s.d(e,"default",(function(){return w}));var i=s(438),n=s.n(i),a=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:this.close,expression:"close"}],staticClass:"v-etc-controls-container"},[this.items.length?e("popover",{ref:"popover",class:["popover--"+this.currentAlign,{"popover--fixed":"fixed"===this.position}],style:this.popoverStyle,attrs:{data:this.items,"is-selectable":!1}}):this._e()],1)};a._withStripped=!0;var r={name:"EtcControlsContainer",components:{Popover:s(453).default},data:()=>({items:[],currentTarget:null,popoverPosition:{top:0,left:0},isPositionReady:!1,position:"absolute",currentAlign:"center"}),computed:{popoverStyle(){const{top:t,left:e}=this.popoverPosition;return{"--top":t+"px","--left":e+"px",visibility:this.isPositionReady?"visible":"hidden"}}},created(){this.$root._etcControlsContainer=this,window.addEventListener("resize",this.close)},beforeDestroy(){window.removeEventListener("resize",this.close)},methods:{open({items:t,target:e,position:s="absolute",align:i="center"}){this.currentTarget=e,this.items=t,this.position=s,this.currentAlign=i,this.$emit("open"),this.updatePopoverPosition()},close(){this.items.length&&(this.items=[],this.$emit("close"))},updatePopoverPosition(){this.isPositionReady=!1;const t=this.currentTarget.getBoundingClientRect(),e=8,s=5;this.popoverPosition.top=window.pageYOffset+t.top+t.height+s,setTimeout(()=>{const{popover:i}=this.$refs;if(!i)return;const{clientWidth:n,clientHeight:a}=document.documentElement,r=i.$el.getBoundingClientRect();"left"===this.currentAlign?this.popoverPosition.left=t.left-e:"right"===this.currentAlign?this.popoverPosition.left=t.right-r.width+e:this.popoverPosition.left=t.left+.5*t.width-.5*r.width,setTimeout(()=>{const e=i.$el.getBoundingClientRect(),r=e.right-n,o=0-e.left,c=e.bottom-a,l=0-e.top;r>0&&(this.popoverPosition.left-=r),o>0&&(this.popoverPosition.left=0),c>0&&(this.popoverPosition.top-=e.height+t.height+2*s),l>0&&(this.popoverPosition.top=0),this.isPositionReady=!0},0)},0)}}},o=(s(1383),s(434)),c=Object(o.a)(r,a,[],!1,null,null,null);c.options.__file="src/Components/Ui/vue/plugins/etc-controls/etc-controls-container.vue";var l=c.exports,h={install(t){const e=document.createElement("div"),s=new t({render:t=>t(l)});document.body.appendChild(e),s.$mount(e),t.prototype.$etcControls={open(t){s._etcControlsContainer.open(t)},close(){s._etcControlsContainer.close()},on(t,e){s._etcControlsContainer.$on(t,e)},once(t,e){s._etcControlsContainer.$once(t,e)},off(t,e){s._etcControlsContainer.$off(t,e)}}}},p=s(441),u=s(45),m=s.n(u),d=s(68),f=s(3);class g{constructor(t,e){this.mainElement=t,this.params=e,void 0===this.params.msg&&(this.params.msg={})}get popoverData(){return{label:this.params.label,url:this.params.href||this.params.getHref(this.mainElement)}}destroy(){this.mainElement=null,this.params=null}}var v=s(5),b=s(0);class _{constructor(t,e){this.mainElement=t,this.params=e,void 0===this.params.msg&&(this.params.msg={}),this.setState(this.getState())}get popoverData(){return{label:this.params.labels[this.currentState],action:async t=>{await this.makeAction(),t.label=this.params.labels[this.currentState]}}}getState(){return"1"===Object(b.data)(this.mainElement,this.params.name+"-state")?1:0}setState(t){this.currentState=t,Object(b.data)(this.mainElement,this.params.name+"-state",this.currentState)}makeAction(){return new Promise((t,e)=>{(void 0===this.params.msg.confirm||confirm(this.params.msg.confirm[this.currentState]))&&this.params.action(this.mainElement,this.currentState,e=>{!1!==e&&void 0!==this.params.msg.success?v.success(this.params.msg.success[this.currentState]):!1===e&&void 0!==this.params.msg.error&&v.error(this.params.msg.error[this.currentState]),!1!==e&&(this.setState(1-this.currentState),t()),void 0!==this.params.callback&&this.params.callback()})})}destroy(){this.dom=null,this.params=null}}class C{constructor(t,e){this.mainElement=t,this.params=e,void 0===this.params.msg&&(this.params.msg={})}get popoverData(){return{label:this.params.label,action:()=>{if("function"==typeof this.params.getClickData){const t=this.params.getClickData(this.mainElement),e=C.parseAirClickAttribute(t);window.triggerDomEvent.call(this,e.name,e.params)}else this.makeAction()}}}makeAction(){(void 0===this.params.msg.confirm||confirm(this.params.msg.confirm))&&this.params.action(this.mainElement,t=>{!1!==t&&void 0!==this.params.msg.success?v.success(this.params.msg.success):!1===t&&void 0!==this.params.msg.error&&v.error(this.params.msg.error),void 0!==this.params.callback&&this.params.callback(t)})}destroy(){this.mainElement=null,this.params=null}static parseAirClickAttribute(t){const e=t.match(/[^?]*/)[0],s=t.match(/[^?]*$/)[0];return{name:e,params:s?s.split("&").reduce((t,e)=>{const s=e.split("=");return t[s[0]]=s[1],t},{}):{}}}}class y{constructor(t,e){this.mainElement=t,this.params=e,void 0===this.params.msg&&(this.params.msg={}),this.setState(this.getState())}get popoverData(){return{label:this.params.labels[this.currentState],disabled:!1,action:async t=>{t.disabled=!0,await this.sendAjax(),t.disabled=!1,t.label=this.params.labels[this.currentState]}}}getState(){return"1"===Object(b.data)(this.mainElement,this.params.name+"-state")?1:0}setState(t){this.currentState=t,Object(b.data)(this.mainElement,this.params.name+"-state",this.currentState)}sendAjax(){return new Promise((t,e)=>{(void 0===this.params.msg.confirm||confirm(this.params.msg.confirm[this.currentState]))&&f.c({url:void 0!==this.params.urls?this.params.urls[this.currentState]:this.params.url,data:void 0!==this.params.getData?this.params.getData(this.mainElement,this.currentState):{},complete:(e,s)=>{!0!==s&&void 0!==this.params.msg.success?v.success(this.params.msg.success[this.currentState]):!0===s&&void 0!==this.params.msg.error&&v.error(this.params.msg.error[this.currentState]),!0!==s&&(this.setState(1-this.currentState),t()),void 0!==this.params.callback&&this.params.callback(e,s)}})})}destroy(){this.mainElement=null,this.params=null}}class k{constructor(t,e){this.mainElement=t,this.params=e,void 0===this.params.msg&&(this.params.msg={})}get popoverData(){return{label:this.params.label,disabled:!1,action:async t=>{t.disabled=!0,await this.sendAjax(),t.disabled=!1}}}sendAjax(){return new Promise((t,e)=>{(void 0===this.params.msg.confirm||confirm(this.params.msg.confirm))&&f.c({url:void 0!==this.params.getUrl?this.params.getUrl(this.mainElement):this.params.url,data:void 0!==this.params.getData?this.params.getData(this.mainElement):{},complete:(e,s)=>{!0!==s&&void 0!==this.params.msg.success?v.success(this.params.msg.success):!0===s&&void 0!==this.params.msg.error&&v.error(this.params.msg.error),void 0!==this.params.callback&&this.params.callback(e,s),t()}})})}destroy(){this.mainElement=null,this.params=null}}class w{constructor(t){this.element=t.element,this.controllingModule=t.controlling_module,this.clickHandler=this.onElementClick.bind(this),this.isOpened=!1,this.isLoading=!1,this.config=this.element.dataset,this.permissions={},this.items=[],this.element.addEventListener("click",this.clickHandler),this.init()}init(){this.extendVue(),this.app=new n.a,this.app.$etcControls.on("close",()=>{this.isOpened=!1});const t=window.Air&&window.Air.get("module.hawk");t&&t.connectVue(n.a)}extendVue(){n.a.directive("click-outside",p.a),n.a.use(m.a,{translations:d,defaultLanguage:window.__i18nLocale}),n.a.use(h)}onElementClick(t){t.preventDefault(),t.stopPropagation(),this.isOpened?this.close():this.open()}async open(){this.isOpened||this.isLoading||(this.isLoading=!0,this.items.length||(this.permissions=await w.getPermissions(this.config.permissions),Object.entries(this.permissions).forEach(([t,e])=>{if(!e)return;const s=this.controllingModule.getControl(this.element,t);s&&s.popoverData&&this.items.push({...s.popoverData,action:t=>{"function"==typeof s.popoverData.action&&s.popoverData.action(t),this.app.$etcControls.close()}})})),this.isLoading=!1,this.items.length&&(this.isOpened=!0,this.app.$etcControls.open({items:this.items,target:this.element,position:this.config.position,align:this.config.align})))}close(){this.isOpened=!1,this.app.$etcControls.close()}destroy(){this.close(),this.element.removeEventListener("click",this.clickHandler),this.clickHandler=null,this.config={},this.permissions={},this.app.$etcControls&&this.app.$etcControls.off("close"),this.app&&(this.app.$destroy(),this.app=null)}static getPermissions(t){return Object(f.e)({type:"get",url:"/etc/permissions",data:{token:t}})}}},435:function(t,e,s){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var s=function(t,e){var s=t[1]||"",i=t[3];if(!i)return s;if(e&&"function"==typeof btoa){var n=(r=i,o=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),"/*# ".concat(c," */")),a=i.sources.map((function(t){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(t," */")}));return[s].concat(a).concat([n]).join("\n")}var r,o,c;return[s].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(s,"}"):s})).join("")},e.i=function(t,s,i){"string"==typeof t&&(t=[[null,t,""]]);var n={};if(i)for(var a=0;a<this.length;a++){var r=this[a][0];null!=r&&(n[r]=!0)}for(var o=0;o<t.length;o++){var c=[].concat(t[o]);i&&n[c[0]]||(s&&(c[2]?c[2]="".concat(s," and ").concat(c[2]):c[2]=s),e.push(c))}},e}},436:function(t,e,s){"use strict";function i(t,e){for(var s=[],i={},n=0;n<e.length;n++){var a=e[n],r=a[0],o={id:t+":"+n,css:a[1],media:a[2],sourceMap:a[3]};i[r]?i[r].parts.push(o):s.push(i[r]={id:r,parts:[o]})}return s}s.r(e),s.d(e,"default",(function(){return m}));var n="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!n)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var a={},r=n&&(document.head||document.getElementsByTagName("head")[0]),o=null,c=0,l=!1,h=function(){},p=null,u="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function m(t,e,s,n){l=s,p=n||{};var r=i(t,e);return d(r),function(e){for(var s=[],n=0;n<r.length;n++){var o=r[n];(c=a[o.id]).refs--,s.push(c)}e?d(r=i(t,e)):r=[];for(n=0;n<s.length;n++){var c;if(0===(c=s[n]).refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete a[c.id]}}}}function d(t){for(var e=0;e<t.length;e++){var s=t[e],i=a[s.id];if(i){i.refs++;for(var n=0;n<i.parts.length;n++)i.parts[n](s.parts[n]);for(;n<s.parts.length;n++)i.parts.push(g(s.parts[n]));i.parts.length>s.parts.length&&(i.parts.length=s.parts.length)}else{var r=[];for(n=0;n<s.parts.length;n++)r.push(g(s.parts[n]));a[s.id]={id:s.id,refs:1,parts:r}}}}function f(){var t=document.createElement("style");return t.type="text/css",r.appendChild(t),t}function g(t){var e,s,i=document.querySelector('style[data-vue-ssr-id~="'+t.id+'"]');if(i){if(l)return h;i.parentNode.removeChild(i)}if(u){var n=c++;i=o||(o=f()),e=_.bind(null,i,n,!1),s=_.bind(null,i,n,!0)}else i=f(),e=C.bind(null,i),s=function(){i.parentNode.removeChild(i)};return e(t),function(i){if(i){if(i.css===t.css&&i.media===t.media&&i.sourceMap===t.sourceMap)return;e(t=i)}else s()}}var v,b=(v=[],function(t,e){return v[t]=e,v.filter(Boolean).join("\n")});function _(t,e,s,i){var n=s?"":i.css;if(t.styleSheet)t.styleSheet.cssText=b(e,n);else{var a=document.createTextNode(n),r=t.childNodes;r[e]&&t.removeChild(r[e]),r.length?t.insertBefore(a,r[e]):t.appendChild(a)}}function C(t,e){var s=e.css,i=e.media,n=e.sourceMap;if(i&&t.setAttribute("media",i),p.ssrId&&t.setAttribute("data-vue-ssr-id",e.id),n&&(s+="\n/*# sourceURL="+n.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),t.styleSheet)t.styleSheet.cssText=s;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(s))}}},437:function(t,e,s){"use strict";var i=function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{class:"icon icon--"+this.name,style:this.style,attrs:{height:this.height,width:this.width}},[e("use",{attrs:{"xlink:href":"#"+this.name}})])};i._withStripped=!0;var n={name:"Icon",props:{name:{type:String,default:""},style:{type:String,default:""},width:{type:Number,default:function(){return 16}},height:{type:Number,default:function(){return 16}}}},a=s(434),r=Object(a.a)(n,i,[],!1,null,null,null);r.options.__file="src/Components/Global/vue/icon.vue";e.a=r.exports},441:function(t,e,s){"use strict";e.a={bind(t,e,s){if("function"!=typeof e.value){const t=s.context.name;let i=`[Vue-click-outside:] provided expression '${e.expression}' is not a function, but has to be`;t&&(i+=`Found in component '${t}'`),console.warn(i)}const i=e.modifiers.bubble,n={mousedown(e){t.__vueClickOutside__.initialTarget=e.target},click(s){const n=t.__vueClickOutside__.initialTarget||s.target;null!==n.closest(".v-popup-container")||(i||!t.contains(n)&&t!==n)&&e.value(s)}};t.__vueClickOutside__={handlers:n,initialTarget:null},Object.keys(t.__vueClickOutside__.handlers).forEach(e=>{document.addEventListener(e,t.__vueClickOutside__.handlers[e])})},unbind(t,e){t.__vueClickOutside__&&Object.keys(t.__vueClickOutside__.handlers).forEach(e=>{document.removeEventListener(e,t.__vueClickOutside__.handlers[e])}),t.__vueClickOutside__=null}}},980:function(t,e,s){var i=s(1384);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,s(436).default)("42580c82",i,!1,{})}}]);